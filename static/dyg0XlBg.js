import{_ as j,t as G}from"./DwDKLRlY.js";import{d as H,N as K,K as M,L as P,j as Q,r as W,H as V,x as F,B as a,A as t,E as l,y as f,bE as X,X as Y,Y as Z,Q as h,d0 as g,T as oo,d1 as eo,R as to,C as i,b$ as lo,v as no,F as ao,D as mo,c0 as so,a2 as ro,z as uo,U as co,a0 as po,d2 as io,Z as fo,$ as _o,c5 as Io,c6 as Fo,d3 as vo,c1 as xo,O as bo,d4 as r,c4 as d,bt as Vo,a3 as go,_ as yo}from"./B4TUQBc2.js";import{_ as Co}from"./CiVYpxfO.js";import{u as ko}from"./2FVDBZoG.js";/* empty css        */const Eo={class:"split-pane"},Uo={class:"option-item"},No=H({__name:"index",setup(So,{expose:y}){const e=K({visible:!1,activeTab:"customIcons",customIconForm:{name:"",path:"",companyName:"",meta:{rank:0,type:"icon",value:"app-",tag:[],size:60,color:"#fff",bgColor:"#fff",layout:"1x1",description:""}}}),{setting:C}=M(P());Q(()=>C.value.app.width+"px");const _=W();async function k(){e.customIconForm.meta.type="img";const{path:m}=e.customIconForm;e.customIconForm.meta.value=`${m}favicon.ico`}function E(m){switch(m){case"icon":e.customIconForm.meta.value="app-";break;case"text":e.customIconForm.meta.value="A";break;default:e.customIconForm.meta.value="https://";break}}function U(m){_.value.validate(o=>{o?m&&m():go.error("请检查表单信息是否填写完整")})}function N(){const{onCopy:m}=ko(bo(JSON.stringify(e.customIconForm,void 0,2)));U(()=>{m()})}function S(){const o=r.findIndex(u=>u.name===e.customIconForm.name)-1;o!==-1?e.customIconForm=d(r[o]):e.customIconForm=d(r[r.length-1])}function w(){const o=r.findIndex(u=>u.name===e.customIconForm.name)+1;o!==r.length?e.customIconForm=d(r[o]):e.customIconForm=d(r[r.length-1])}function v(){e.visible=!0,_.value.resetFields()}function B(m){v();const o=d(m);Vo(()=>{e.customIconForm=o})}return y({open:v,edit:B}),(m,o)=>{const u=j,c=h,s=Z,R=oo,p=to,z=so,T=lo,$=po,x=co,I=_o,q=fo,b=Io,A=vo,L=Y,O=X,D=Co,J=xo;return F(),V(J,null,{default:a(()=>[t(D,{visible:l(e).visible,"onUpdate:visible":o[11]||(o[11]=n=>l(e).visible=n),title:"添加应用",width:"1200px"},{footer:a(()=>[t(p,{type:"info",onClick:N},{default:a(()=>o[14]||(o[14]=[i("复制JSON")])),_:1}),t(p,{type:"primary"},{default:a(()=>o[15]||(o[15]=[i("保存并继续")])),_:1}),t(p,{type:"default",onClick:S},{default:a(()=>o[16]||(o[16]=[i("上一个")])),_:1}),t(p,{type:"default",onClick:w},{default:a(()=>o[17]||(o[17]=[i("下一个")])),_:1})]),default:a(()=>[f("div",Eo,[t(u,{app:l(e).customIconForm,class:"p-card"},null,8,["app"]),t(O,null,{default:a(()=>[t(L,{ref_key:"formRef",ref:_,model:l(e).customIconForm},{default:a(()=>[t(s,{prop:"name",rules:{required:!0,message:"请输入应用名称"}},{default:a(()=>[t(c,{modelValue:l(e).customIconForm.name,"onUpdate:modelValue":o[0]||(o[0]=n=>l(e).customIconForm.name=n),placeholder:"应用名称","prefix-icon":l(g)},null,8,["modelValue","prefix-icon"])]),_:1}),t(s,{prop:"companyName",rules:{required:!0,message:"请输入所属机构"}},{default:a(()=>[t(c,{modelValue:l(e).customIconForm.companyName,"onUpdate:modelValue":o[1]||(o[1]=n=>l(e).customIconForm.companyName=n),placeholder:"所属机构"},{prefix:a(()=>[t(R,{name:"company"})]),_:1},8,["modelValue"])]),_:1}),t(s,{prop:"path",rules:{required:!0,message:"请输入访问地址"}},{default:a(()=>[t(c,{modelValue:l(e).customIconForm.path,"onUpdate:modelValue":o[2]||(o[2]=n=>l(e).customIconForm.path=n),placeholder:"https://","prefix-icon":l(eo)},{append:a(()=>[t(p,{onClick:k},{default:a(()=>o[12]||(o[12]=[i("获取图标")])),_:1})]),_:1},8,["modelValue","prefix-icon"])]),_:1}),t(s,{prop:"meta.tag",rules:{required:!0,message:"必选选择一个标签"}},{default:a(()=>[t(T,{modelValue:l(e).customIconForm.meta.tag,"onUpdate:modelValue":o[3]||(o[3]=n=>l(e).customIconForm.meta.tag=n),multiple:"",placeholder:"选择一个标签",style:{width:"100%"}},{default:a(()=>[(F(!0),no(ao,null,mo(l(G),n=>(F(),V(z,{key:n.value,label:n.label,value:n.value},{default:a(()=>[f("div",Uo,[f("div",{class:"block",style:ro(`--bgColor:${n.color}`)},uo(n.label),5)])]),_:2},1032,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),t(s,{prop:"meta.rank"},{default:a(()=>[t(x,null,{default:a(()=>[t($,{modelValue:l(e).customIconForm.meta.rank,"onUpdate:modelValue":o[4]||(o[4]=n=>l(e).customIconForm.meta.rank=n)},null,8,["modelValue"]),o[13]||(o[13]=f("img",{src:io,width:"22",height:"22",alt:""},null,-1))]),_:1})]),_:1}),t(s,null,{default:a(()=>[t(x,null,{default:a(()=>[t(q,{modelValue:l(e).customIconForm.meta.type,"onUpdate:modelValue":o[5]||(o[5]=n=>l(e).customIconForm.meta.type=n),onChange:E},{default:a(()=>[t(I,{label:"图标",value:"icon"}),t(I,{label:"文字",value:"text"}),t(I,{label:"图片",value:"img"})]),_:1},8,["modelValue"]),t(s,{prop:"meta.value"},{default:a(()=>[t(c,{modelValue:l(e).customIconForm.meta.value,"onUpdate:modelValue":o[6]||(o[6]=n=>l(e).customIconForm.meta.value=n),placeholder:"图标值","prefix-icon":l(g)},null,8,["modelValue","prefix-icon"])]),_:1}),t(s,null,{default:a(()=>[t(b,{color:l(e).customIconForm.meta.color,"onUpdate:color":o[7]||(o[7]=n=>l(e).customIconForm.meta.color=n)},null,8,["color"])]),_:1})]),_:1})]),_:1}),t(s,{prop:"meta.bgColor"},{default:a(()=>[t(b,{colorList:l(Fo),color:l(e).customIconForm.meta.bgColor,"onUpdate:color":o[8]||(o[8]=n=>l(e).customIconForm.meta.bgColor=n)},null,8,["colorList","color"])]),_:1}),t(s,{prop:"meta.size"},{default:a(()=>[t(A,{modelValue:l(e).customIconForm.meta.size,"onUpdate:modelValue":o[9]||(o[9]=n=>l(e).customIconForm.meta.size=n),min:40,max:100},null,8,["modelValue"])]),_:1}),t(s,{prop:"meta.description",rules:{required:!0,message:"请输入描述信息"}},{default:a(()=>[t(c,{modelValue:l(e).customIconForm.meta.description,"onUpdate:modelValue":o[10]||(o[10]=n=>l(e).customIconForm.meta.description=n),type:"textarea",placeholder:"应用介绍..."},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1})])]),_:1},8,["visible"])]),_:1})}}}),$o=yo(No,[["__scopeId","data-v-767418f9"]]);export{$o as default};
