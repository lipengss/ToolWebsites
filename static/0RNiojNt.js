import{d as $,H as j,J as b,I as J,r as v,j as i,az as Q,aA as q,aw as K,aB as G,o as O,g as P,v as _,x,y as s,A as a,aC as U,aD as X,aE as Y,B as p,F as g,G as u,Q as Z,R as ee,aF as ne,T as te,aG as ae,aH as S,a1 as B,_ as se}from"./CJySoInu.js";import"./DmRte5JX.js";/* empty css        *//* empty css        */import"./CfEMc2qK.js";import{f as C}from"./Bl5GAcXj.js";/* empty css        */import"./BqOVif8O.js";const le={class:"item"},oe={class:"item"},ue=$({__name:"index",setup(ie){j(n=>({c061682e:u(M),d3c39f1e:u(T),a2cc32e2:u(D),"198cea0d":u(N)}));const W=b(),{setting:l,showDrawer:A,activeTag:E}=J(b()),{initGlobalSetting:I,changeWallpaper:y,setGlobalSetting:k}=W;let L=null;const m=v(),f=v(),r=v({name:"",path:"",type:"",meta:{rank:0,icon:"",layout:""}});i(()=>[{label:"全部",value:"all"},...Q]);const M=i(()=>l.value.app.screenWidth+l.value.app.unit),T=i(()=>l.value.app.size+"px"),D=i(()=>{const{async:n,gap:e,columnGap:t}=l.value.app;return(n?e:t)+"px"}),N=i(()=>{const{async:n,gap:e,rowGap:t}=l.value.app;return(n?e:t)+"px"}),R=i(()=>q.map(n=>(n.children=C(n.type),n)));i(()=>!1);function h(n){m.value=!0,f.value.contextmenu(n)}function z(){const{name:n}=r.value;if(!l.value.excludeWeb.map(t=>t.name).includes(n)){const t=S.findIndex(o=>o.name===n);t!==-1&&S.splice(t,1),l.value.excludeWeb.push(r.value)}k()}function F(){const{name:n}=r.value;if(!l.value.collectionWeb.map(t=>t.name).includes(n))l.value.excludeWeb.push(r.value),B.success("已收藏了");else{B.warning("已收藏了");return}k()}return K(()=>E.value,n=>{const e=l.value.menuBar.appSlideIndex,t=C(appTypeLisrt[e].type);R.value[e].children=n==="all"?t:t.filter(o=>o.meta.tag&&o.meta.tag.includes(n))}),G.on("contextmenuApp",({event:n,name:e})=>{if(m.value=!e,!m.value){const t=C("/").find(o=>o.name===e);t&&(r.value=t)}f.value.contextmenu(n)}),G.on("onMenuChange",n=>{L.destroyed}),O(()=>{I()}),(n,e)=>{const t=U,o=P("NuxtChild"),H=Y,d=ee,c=Z,V=ae;return x(),_(g,null,[s("div",{class:"container",onContextmenu:X(h,["prevent"])},[a(t),a(o)],32),a(H),a(V,{ref_key:"contextmenuRef",ref:f},{default:p(()=>[m.value?(x(),_(g,{key:0},[s("div",{class:"item",onClick:e[0]||(e[0]=(...w)=>u(y)&&u(y)(...w))},[a(c,null,{default:p(()=>[a(d,{name:"menu-picture"})]),_:1}),e[2]||(e[2]=s("span",null,"换壁纸",-1))]),s("div",{class:"item",onClick:e[1]||(e[1]=w=>A.value=!0)},[a(c,null,{default:p(()=>[a(d,{name:"setting"})]),_:1}),e[3]||(e[3]=s("span",null,"设置",-1))])],64)):(x(),_(g,{key:1},[s("div",le,[a(c,null,{default:p(()=>[a(u(ne))]),_:1}),e[4]||(e[4]=s("span",null,"编辑",-1))]),s("div",oe,[a(c,null,{default:p(()=>[a(d,{name:"batchEdit"})]),_:1}),e[5]||(e[5]=s("span",null,"批量编辑",-1))]),s("div",{class:"item",onClick:z},[a(c,null,{default:p(()=>[a(u(te))]),_:1}),e[6]||(e[6]=s("span",null,"删除",-1))]),s("div",{class:"item",onClick:F},[a(c,null,{default:p(()=>[a(d,{name:"like"})]),_:1}),e[7]||(e[7]=s("span",null,"收藏",-1))])],64))]),_:1},512)],64)}}}),xe=se(ue,[["__scopeId","data-v-87fe4221"]]);export{xe as default};
