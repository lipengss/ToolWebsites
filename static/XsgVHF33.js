import{o as J,d3 as Q,e as Z,d4 as K,bS as x,b2 as q,d as D,d5 as ee,d6 as oe,bi as se,b3 as U,d7 as le,j as T,v as P,x as m,y as M,bt as R,b7 as v,b8 as C,E as e,z as H,A as w,B as r,H as A,N as te,d8 as ae,T as ne,a3 as W,d9 as ie,da as re,bK as de,db as ce,b4 as ue,r as O,dc as fe,bF as me,bA as ve,dd as pe,de as be,cO as ge,aG as ye,ce as he,bN as Ce,cS as we,bx as Ee,b9 as ke,L as Te,M as $e,O as Le,aF as Se,bz as Me,S as Ae,C as j,cL as De,df as Fe}from"./D3PuhZ02.js";/* empty css        */const G=Symbol("dialogInjectionKey"),Be=(i,d,t,p)=>{let n={offsetX:0,offsetY:0};const c=u=>{const g=u.clientX,E=u.clientY,{offsetX:f,offsetY:y}=n,h=i.value.getBoundingClientRect(),k=h.left,a=h.top,F=h.width,$=h.height,_=document.documentElement.clientWidth,z=document.documentElement.clientHeight,N=-k+f,Y=-a+y,X=_-k-F+f,L=z-a-$+y,B=o=>{let S=f+o.clientX-g,I=y+o.clientY-E;p!=null&&p.value||(S=Math.min(Math.max(S,N),X),I=Math.min(Math.max(I,Y),L)),n={offsetX:S,offsetY:I},i.value&&(i.value.style.transform=`translate(${K(S)}, ${K(I)})`)},V=()=>{document.removeEventListener("mousemove",B),document.removeEventListener("mouseup",V)};document.addEventListener("mousemove",B),document.addEventListener("mouseup",V)},b=()=>{d.value&&i.value&&d.value.addEventListener("mousedown",c)},l=()=>{d.value&&i.value&&d.value.removeEventListener("mousedown",c)},s=()=>{n={offsetX:0,offsetY:0},i.value&&(i.value.style.transform="none")};return J(()=>{Q(()=>{t.value?b():l()})}),Z(()=>{l()}),{resetPosition:s}},Ie=(...i)=>d=>{i.forEach(t=>{x(t)?t(d):t.value=d})},Pe=D({name:"ElDialogContent"}),Re=D({...Pe,props:oe,emits:ee,setup(i,{expose:d}){const t=i,{t:p}=se(),{Close:n}=ae,{dialogRef:c,headerRef:b,bodyId:l,ns:s,style:u}=U(G),{focusTrapRef:g}=U(le),E=T(()=>[s.b(),s.is("fullscreen",t.fullscreen),s.is("draggable",t.draggable),s.is("align-center",t.alignCenter),{[s.m("center")]:t.center}]),f=Ie(g,c),y=T(()=>t.draggable),h=T(()=>t.overflow),{resetPosition:k}=Be(c,b,y,h);return d({resetPosition:k}),(a,F)=>(m(),P("div",{ref:e(f),class:C(e(E)),style:W(e(u)),tabindex:"-1"},[M("header",{ref_key:"headerRef",ref:b,class:C([e(s).e("header"),a.headerClass,{"show-close":a.showClose}])},[v(a.$slots,"header",{},()=>[M("span",{role:"heading","aria-level":a.ariaLevel,class:C(e(s).e("title"))},H(a.title),11,["aria-level"])]),a.showClose?(m(),P("button",{key:0,"aria-label":e(p)("el.dialog.close"),class:C(e(s).e("headerbtn")),type:"button",onClick:$=>a.$emit("close")},[w(e(ne),{class:C(e(s).e("close"))},{default:r(()=>[(m(),A(te(a.closeIcon||e(n))))]),_:1},8,["class"])],10,["aria-label","onClick"])):R("v-if",!0)],2),M("div",{id:e(l),class:C([e(s).e("body"),a.bodyClass])},[v(a.$slots,"default")],10,["id"]),a.$slots.footer?(m(),P("footer",{key:0,class:C([e(s).e("footer"),a.footerClass])},[v(a.$slots,"footer")],2)):R("v-if",!0)],6))}});var _e=q(Re,[["__file","dialog-content.vue"]]);const ze=D({name:"ElDialog",inheritAttrs:!1}),Ne=D({...ze,props:re,emits:ie,setup(i,{expose:d}){const t=i,p=de();ce({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},T(()=>!!p.title));const n=ue("dialog"),c=O(),b=O(),l=O(),{visible:s,titleId:u,bodyId:g,style:E,overlayDialogStyle:f,rendered:y,zIndex:h,afterEnter:k,afterLeave:a,beforeLeave:F,handleClose:$,onModalClick:_,onOpenAutoFocus:z,onCloseAutoFocus:N,onCloseRequested:Y,onFocusoutPrevented:X}=fe(t,c);Ee(G,{dialogRef:c,headerRef:b,bodyId:g,ns:n,rendered:y,style:E});const L=be(_),B=T(()=>t.draggable&&!t.fullscreen);return d({visible:s,dialogContentRef:l,resetPosition:()=>{var o;(o=l.value)==null||o.resetPosition()}}),(o,S)=>(m(),A(e(we),{to:o.appendTo,disabled:o.appendTo!=="body"?!1:!o.appendToBody},{default:r(()=>[w(me,{name:"dialog-fade",onAfterEnter:e(k),onAfterLeave:e(a),onBeforeLeave:e(F),persisted:""},{default:r(()=>[ve(w(e(pe),{"custom-mask-event":"",mask:o.modal,"overlay-class":o.modalClass,"z-index":e(h)},{default:r(()=>[M("div",{role:"dialog","aria-modal":"true","aria-label":o.title||void 0,"aria-labelledby":o.title?void 0:e(u),"aria-describedby":e(g),class:C(`${e(n).namespace.value}-overlay-dialog`),style:W(e(f)),onClick:e(L).onClick,onMousedown:e(L).onMousedown,onMouseup:e(L).onMouseup},[w(e(ge),{loop:"",trapped:e(s),"focus-start-el":"container",onFocusAfterTrapped:e(z),onFocusAfterReleased:e(N),onFocusoutPrevented:e(X),onReleaseRequested:e(Y)},{default:r(()=>[e(y)?(m(),A(_e,ye({key:0,ref_key:"dialogContentRef",ref:l},o.$attrs,{center:o.center,"align-center":o.alignCenter,"close-icon":o.closeIcon,draggable:e(B),overflow:o.overflow,fullscreen:o.fullscreen,"header-class":o.headerClass,"body-class":o.bodyClass,"footer-class":o.footerClass,"show-close":o.showClose,title:o.title,"aria-level":o.headerAriaLevel,onClose:e($)}),he({header:r(()=>[o.$slots.title?v(o.$slots,"title",{key:1}):v(o.$slots,"header",{key:0,close:e($),titleId:e(u),titleClass:e(n).e("title")})]),default:r(()=>[v(o.$slots,"default")]),_:2},[o.$slots.footer?{name:"footer",fn:r(()=>[v(o.$slots,"footer")])}:void 0]),1040,["center","align-center","close-icon","draggable","overflow","fullscreen","header-class","body-class","footer-class","show-close","title","aria-level","onClose"])):R("v-if",!0)]),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])],46,["aria-label","aria-labelledby","aria-describedby","onClick","onMousedown","onMouseup"])]),_:3},8,["mask","overlay-class","z-index"]),[[Ce,e(s)]])]),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])]),_:3},8,["to","disabled"]))}});var Ye=q(Ne,[["__file","dialog.vue"]]);const Xe=ke(Ye),Ve={class:"flex-end"},Oe={key:1,class:"footer"},Ue=D({__name:"index",props:{visible:{type:Boolean},confirmText:{default:"确定"},confirmType:{default:"primary"},cancelText:{default:"取消"},cancelType:{default:"default"},showConfirm:{type:Boolean,default:!1}},emits:["update:visible"],setup(i,{emit:d}){const{setting:t}=Te($e()),p=i,n=Le({visible:!1,fullscreen:!1});T(()=>t.value.bg.picture);const c=d,b=()=>{c("update:visible",!1)};return Se(()=>p.visible,l=>{n.visible=l},{immediate:!0}),(l,s)=>{const u=Ae,g=Me,E=Xe;return m(),A(E,{class:"custom-dialog",modelValue:n.visible,"onUpdate:modelValue":s[3]||(s[3]=f=>n.visible=f),"show-close":!1,width:"900px","append-to-body":"","lock-scroll":!1,fullscreen:n.fullscreen,draggable:"",onClose:b},{header:r(()=>[M("div",Ve,[w(u,{icon:e(De),circle:"",size:"small",onClick:s[0]||(s[0]=f=>n.fullscreen=!n.fullscreen)},null,8,["icon"]),w(u,{icon:e(Fe),circle:"",size:"small",onClick:s[1]||(s[1]=f=>c("update:visible",!1))},null,8,["icon"])])]),footer:r(()=>[l.$slots.footer?v(l.$slots,"footer",{key:0}):(m(),P("div",Oe,[w(u,{type:l.cancelType,onClick:s[2]||(s[2]=f=>c("update:visible",!1))},{default:r(()=>[j(H(l.cancelText),1)]),_:1},8,["type"]),l.showConfirm?(m(),A(u,{key:0,type:l.confirmType,class:"confirm-btn"},{default:r(()=>[j(H(l.confirmText),1)]),_:1},8,["type"])):R("",!0)]))]),default:r(()=>[w(g,{"wrap-class":"el-dialog__body","view-style":{maxHeight:"calc(100vh - 40vh)"}},{default:r(()=>[v(l.$slots,"default")]),_:3})]),_:3},8,["modelValue","fullscreen"])}}});export{Ue as _};
