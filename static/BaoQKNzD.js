import{_ as j,t as G}from"./Qk2RRk7H.js";import{d as H,N as K,K as Q,L as W,j as X,r as h,o as oo,H as F,x as d,B as a,A as t,E as n,y as r,bB as eo,X as to,Y as lo,Q as no,c_ as E,T as ao,c$ as so,R as mo,C as f,bY as uo,v as U,F as N,D as S,d0 as ro,bZ as co,z as B,a2 as io,U as po,a0 as fo,d1 as _o,Z as Io,$ as Fo,c2 as vo,c3 as bo,d2 as yo,b_ as xo,O as Vo,d3 as u,c1 as _,bq as go,a3 as ko,_ as Co}from"./FTGEMInk.js";import{_ as Eo}from"./4LV4uW_d.js";import{u as Uo}from"./B--Cfhur.js";/* empty css        */const No={class:"split-pane"},So={class:"option-item"},Bo={class:"block"},wo={class:"option-item"},qo=H({__name:"index",setup(Ro,{expose:w}){const e=K({visible:!1,activeTab:"customIcons",customIconForm:{name:"",path:"",classify:[],companyName:"",meta:{rank:0,type:"icon",value:"app-",tag:[],size:60,color:"#fff",bgColor:"#fff",layout:"1x1",description:""}}}),{setting:v}=Q(W());X(()=>v.value.app.width+"px");const b=h();async function q(){e.customIconForm.meta.type="img";const{path:s}=e.customIconForm;e.customIconForm.meta.value=`${s}favicon.ico`}function R(s){switch(s){case"icon":e.customIconForm.meta.value="app-";break;case"text":e.customIconForm.meta.value="A";break;default:e.customIconForm.meta.value="https://";break}}function z(s){b.value.validate(o=>{o?s&&s():ko.error("请检查表单信息是否填写完整")})}function A(){const{onCopy:s}=Uo(Vo(JSON.stringify(e.customIconForm,void 0,2)));z(()=>{s()})}function L(){const o=u.findIndex(c=>c.name===e.customIconForm.name)-1;o!==-1?e.customIconForm=_(u[o]):e.customIconForm=_(u[u.length-1])}function T(){const o=u.findIndex(c=>c.name===e.customIconForm.name)+1;o!==u.length?e.customIconForm=_(u[o]):e.customIconForm=_(u[u.length-1])}function y(){e.visible=!0}function $(s){y();const o=_(s);go(()=>{console.log("cloneApp",o),e.customIconForm=o,typeof o.classify=="string"&&(e.customIconForm.classify=[o.classify])})}return oo(()=>{e.customIconForm.classify=[v.value.menuBar.routePath.slice(1)]}),w({open:y,edit:$}),(s,o)=>{const c=j,i=no,m=lo,x=ao,p=mo,V=co,g=uo,O=fo,k=po,I=Fo,D=Io,C=vo,J=yo,M=to,P=eo,Y=Eo,Z=xo;return d(),F(Z,null,{default:a(()=>[t(Y,{visible:n(e).visible,"onUpdate:visible":o[12]||(o[12]=l=>n(e).visible=l),title:"添加应用",width:"1200px"},{footer:a(()=>[t(p,{type:"info",onClick:A},{default:a(()=>o[15]||(o[15]=[f("复制JSON")])),_:1}),t(p,{type:"primary"},{default:a(()=>o[16]||(o[16]=[f("保存并继续")])),_:1}),t(p,{type:"default",onClick:L},{default:a(()=>o[17]||(o[17]=[f("上一个")])),_:1}),t(p,{type:"default",onClick:T},{default:a(()=>o[18]||(o[18]=[f("下一个")])),_:1})]),default:a(()=>[r("div",No,[t(c,{app:n(e).customIconForm,class:"p-card"},null,8,["app"]),t(P,null,{default:a(()=>[t(M,{ref_key:"formRef",ref:b,model:n(e).customIconForm},{default:a(()=>[t(m,{prop:"name",rules:{required:!0,message:"请输入应用名称"}},{default:a(()=>[t(i,{modelValue:n(e).customIconForm.name,"onUpdate:modelValue":o[0]||(o[0]=l=>n(e).customIconForm.name=l),placeholder:"应用名称","prefix-icon":n(E)},null,8,["modelValue","prefix-icon"])]),_:1}),t(m,{prop:"companyName",rules:{required:!0,message:"请输入所属机构"}},{default:a(()=>[t(i,{modelValue:n(e).customIconForm.companyName,"onUpdate:modelValue":o[1]||(o[1]=l=>n(e).customIconForm.companyName=l),placeholder:"所属机构"},{prefix:a(()=>[t(x,{name:"company"})]),_:1},8,["modelValue"])]),_:1}),t(m,{prop:"path",rules:{required:!0,message:"请输入访问地址"}},{default:a(()=>[t(i,{modelValue:n(e).customIconForm.path,"onUpdate:modelValue":o[2]||(o[2]=l=>n(e).customIconForm.path=l),placeholder:"https://","prefix-icon":n(so)},{append:a(()=>[t(p,{onClick:q},{default:a(()=>o[13]||(o[13]=[f("获取图标")])),_:1})]),_:1},8,["modelValue","prefix-icon"])]),_:1}),t(m,{prop:"classify",rules:{required:!0,message:"请选择应用分类"}},{default:a(()=>[t(g,{modelValue:n(e).customIconForm.classify,"onUpdate:modelValue":o[3]||(o[3]=l=>n(e).customIconForm.classify=l),multiple:"",placeholder:"请选择应用分类",style:{width:"100%"}},{default:a(()=>[(d(!0),U(N,null,S(n(ro),l=>(d(),F(V,{key:l.meta.classify,label:l.name,value:l.meta.classify},{default:a(()=>[r("div",So,[t(x,{name:l.meta.icon},null,8,["name"]),r("div",Bo,B(l.name),1)])]),_:2},1032,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),t(m,{prop:"meta.tag",rules:{required:!0,message:"必选选择一个标签"}},{default:a(()=>[t(g,{modelValue:n(e).customIconForm.meta.tag,"onUpdate:modelValue":o[4]||(o[4]=l=>n(e).customIconForm.meta.tag=l),multiple:"",placeholder:"选择一个标签",style:{width:"100%"}},{default:a(()=>[(d(!0),U(N,null,S(n(G),l=>(d(),F(V,{key:l.value,label:l.label,value:l.value},{default:a(()=>[r("div",wo,[r("div",{class:"block",style:io(`--bgColor:${l.color}`)},B(l.label),5)])]),_:2},1032,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),t(m,{prop:"meta.rank"},{default:a(()=>[t(k,null,{default:a(()=>[t(O,{modelValue:n(e).customIconForm.meta.rank,"onUpdate:modelValue":o[5]||(o[5]=l=>n(e).customIconForm.meta.rank=l)},null,8,["modelValue"]),o[14]||(o[14]=r("img",{src:_o,width:"22",height:"22",alt:""},null,-1))]),_:1})]),_:1}),t(m,null,{default:a(()=>[t(k,null,{default:a(()=>[t(D,{modelValue:n(e).customIconForm.meta.type,"onUpdate:modelValue":o[6]||(o[6]=l=>n(e).customIconForm.meta.type=l),onChange:R},{default:a(()=>[t(I,{label:"图标",value:"icon"}),t(I,{label:"文字",value:"text"}),t(I,{label:"图片",value:"img"})]),_:1},8,["modelValue"]),t(m,{prop:"meta.value"},{default:a(()=>[t(i,{modelValue:n(e).customIconForm.meta.value,"onUpdate:modelValue":o[7]||(o[7]=l=>n(e).customIconForm.meta.value=l),placeholder:"图标值","prefix-icon":n(E)},null,8,["modelValue","prefix-icon"])]),_:1}),t(m,null,{default:a(()=>[t(C,{color:n(e).customIconForm.meta.color,"onUpdate:color":o[8]||(o[8]=l=>n(e).customIconForm.meta.color=l)},null,8,["color"])]),_:1})]),_:1})]),_:1}),t(m,{prop:"meta.bgColor"},{default:a(()=>[t(C,{colorList:n(bo),color:n(e).customIconForm.meta.bgColor,"onUpdate:color":o[9]||(o[9]=l=>n(e).customIconForm.meta.bgColor=l)},null,8,["colorList","color"])]),_:1}),t(m,{prop:"meta.size"},{default:a(()=>[t(J,{modelValue:n(e).customIconForm.meta.size,"onUpdate:modelValue":o[10]||(o[10]=l=>n(e).customIconForm.meta.size=l),min:40,max:100},null,8,["modelValue"])]),_:1}),t(m,{prop:"meta.description",rules:{required:!0,message:"请输入描述信息"}},{default:a(()=>[t(i,{modelValue:n(e).customIconForm.meta.description,"onUpdate:modelValue":o[11]||(o[11]=l=>n(e).customIconForm.meta.description=l),type:"textarea",placeholder:"应用介绍..."},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1})])]),_:1},8,["visible"])]),_:1})}}}),Oo=Co(qo,[["__scopeId","data-v-b8608a29"]]);export{Oo as default};
