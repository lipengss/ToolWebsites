import{aJ as ke,cW as Se,cX as Pe,aX as j,cu as ye,aY as ue,b2 as ge,d as D,bb as ce,cs as ie,b4 as Q,r as P,aw as W,bf as ee,cY as se,e as $e,v as X,x as z,a0 as Oe,b7 as xe,G as a,au as de,cZ as A,c_ as Be,c$ as Re,j as K,o as he,d0 as ze,A as t,Q as Z,bI as Ue,bJ as Ae,cq as Le,bn as U,cr as De,bv as Me,bo as qe,b6 as re,d1 as Je,bw as me,c6 as Ie,bD as We,d2 as be,L as Fe,av as Ke,br as Ye,bk as Ge,bG as Xe,bz as He,d3 as Ze,D as H,B as s,F as ae,E as le,az as pe,b$ as je,C as J,z as Qe,y as fe,bq as et,V as tt,W as ot,O as at,aF as ve,d4 as lt,P as nt,bT as st,aA as rt,bU as ut,Z as ct,S as it,X as dt,Y as mt,bZ as bt,b_ as pt,d5 as ft,ay as vt,bW as _t,M as yt,aH as R,bY as G,_ as gt}from"./BQGwFWGX.js";import{_ as xt}from"./CjfcnVUR.js";import{a as ht,E as It}from"./BHo_5Yjt.js";import{_ as Ft}from"./Cr2_RlDk.js";/* empty css        */import{u as Ct}from"./NPf9QhI_.js";/* empty css        */const Et=(n,b,o)=>Se(n.subTree).filter(d=>{var y;return Pe(d)&&((y=d.type)==null?void 0:y.name)===b&&!!d.component}).map(d=>d.component.uid).map(d=>o[d]).filter(d=>!!d),Nt=(n,b)=>{const o={},v=ke([]);return{children:v,addChild:y=>{o[y.uid]=y,v.value=Et(n,b,o)},removeChild:y=>{delete o[y],v.value=v.value.filter(g=>g.uid!==y)}}},te=Symbol("tabsRootContextKey"),Tt=j({tabs:{type:ue(Array),default:()=>ye([])}}),Ce="ElTabBar",Vt=D({name:Ce}),wt=D({...Vt,props:Tt,setup(n,{expose:b}){const o=n,v=de(),r=ce(te);r||ie(Ce,"<el-tabs><el-tab-bar /></el-tabs>");const d=Q("tabs"),y=P(),g=P(),F=()=>{let m=0,h=0;const x=["top","bottom"].includes(r.props.tabPosition)?"width":"height",f=x==="width"?"x":"y",c=f==="x"?"left":"top";return o.tabs.every(N=>{var k,$;const V=($=(k=v.parent)==null?void 0:k.refs)==null?void 0:$[`tab-${N.uid}`];if(!V)return!1;if(!N.active)return!0;m=V[`offset${A(c)}`],h=V[`client${A(x)}`];const C=window.getComputedStyle(V);return x==="width"&&(h-=Number.parseFloat(C.paddingLeft)+Number.parseFloat(C.paddingRight),m+=Number.parseFloat(C.paddingLeft)),!1}),{[x]:`${h}px`,transform:`translate${A(f)}(${m}px)`}},T=()=>g.value=F(),E=[],u=()=>{var m;E.forEach(x=>x.stop()),E.length=0;const h=(m=v.parent)==null?void 0:m.refs;if(h){for(const x in h)if(x.startsWith("tab-")){const f=h[x];f&&E.push(se(f,T))}}};W(()=>o.tabs,async()=>{await ee(),T(),u()},{immediate:!0});const e=se(y,()=>T());return $e(()=>{E.forEach(m=>m.stop()),E.length=0,e.stop()}),b({ref:y,update:T}),(m,h)=>(z(),X("div",{ref_key:"barRef",ref:y,class:xe([a(d).e("active-bar"),a(d).is(a(r).props.tabPosition)]),style:Oe(g.value)},null,6))}});var kt=ge(wt,[["__file","tab-bar.vue"]]);const St=j({panes:{type:ue(Array),default:()=>ye([])},currentName:{type:[String,Number],default:""},editable:Boolean,type:{type:String,values:["card","border-card",""],default:""},stretch:Boolean}),Pt={tabClick:(n,b,o)=>o instanceof Event,tabRemove:(n,b)=>b instanceof Event},_e="ElTabNav",$t=D({name:_e,props:St,emits:Pt,setup(n,{expose:b,emit:o}){const v=ce(te);v||ie(_e,"<el-tabs><tab-nav /></el-tabs>");const r=Q("tabs"),d=Be(),y=Re(),g=P(),F=P(),T=P(),E=P(),u=P(!1),e=P(0),m=P(!1),h=P(!0),x=K(()=>["top","bottom"].includes(v.props.tabPosition)?"width":"height"),f=K(()=>({transform:`translate${x.value==="width"?"X":"Y"}(-${e.value}px)`})),c=()=>{if(!g.value)return;const p=g.value[`offset${A(x.value)}`],_=e.value;if(!_)return;const i=_>p?_-p:0;e.value=i},N=()=>{if(!g.value||!F.value)return;const p=F.value[`offset${A(x.value)}`],_=g.value[`offset${A(x.value)}`],i=e.value;if(p-i<=_)return;const S=p-i>_*2?i+_:p-_;e.value=S},k=async()=>{const p=F.value;if(!u.value||!T.value||!g.value||!p)return;await ee();const _=T.value.querySelector(".is-active");if(!_)return;const i=g.value,S=["top","bottom"].includes(v.props.tabPosition),I=_.getBoundingClientRect(),w=i.getBoundingClientRect(),q=S?p.offsetWidth-w.width:p.offsetHeight-w.height,B=e.value;let O=B;S?(I.left<w.left&&(O=B-(w.left-I.left)),I.right>w.right&&(O=B+I.right-w.right)):(I.top<w.top&&(O=B-(w.top-I.top)),I.bottom>w.bottom&&(O=B+(I.bottom-w.bottom))),O=Math.max(O,0),e.value=Math.min(O,q)},$=()=>{var p;if(!F.value||!g.value)return;n.stretch&&((p=E.value)==null||p.update());const _=F.value[`offset${A(x.value)}`],i=g.value[`offset${A(x.value)}`],S=e.value;i<_?(u.value=u.value||{},u.value.prev=S,u.value.next=S+i<_,_-S<i&&(e.value=_-i)):(u.value=!1,S>0&&(e.value=0))},V=p=>{let _=0;switch(p.code){case U.left:case U.up:_=-1;break;case U.right:case U.down:_=1;break;default:return}const i=Array.from(p.currentTarget.querySelectorAll("[role=tab]:not(.is-disabled)"));let I=i.indexOf(p.target)+_;I<0?I=i.length-1:I>=i.length&&(I=0),i[I].focus({preventScroll:!0}),i[I].click(),C()},C=()=>{h.value&&(m.value=!0)},M=()=>m.value=!1;return W(d,p=>{p==="hidden"?h.value=!1:p==="visible"&&setTimeout(()=>h.value=!0,50)}),W(y,p=>{p?setTimeout(()=>h.value=!0,50):h.value=!1}),se(T,$),he(()=>setTimeout(()=>k(),0)),ze(()=>$()),b({scrollToActiveTab:k,removeFocus:M}),()=>{const p=u.value?[t("span",{class:[r.e("nav-prev"),r.is("disabled",!u.value.prev)],onClick:c},[t(Z,null,{default:()=>[t(Ue,null,null)]})]),t("span",{class:[r.e("nav-next"),r.is("disabled",!u.value.next)],onClick:N},[t(Z,null,{default:()=>[t(Ae,null,null)]})])]:null,_=n.panes.map((i,S)=>{var I,w,q,B;const O=i.uid,Y=i.props.disabled,l=(w=(I=i.props.name)!=null?I:i.index)!=null?w:`${S}`,oe=!Y&&(i.isClosable||n.editable);i.index=`${S}`;const Te=oe?t(Z,{class:"is-icon-close",onClick:L=>o("tabRemove",i,L)},{default:()=>[t(Le,null,null)]}):null,Ve=((B=(q=i.slots).label)==null?void 0:B.call(q))||i.props.label,we=!Y&&i.active?0:-1;return t("div",{ref:`tab-${O}`,class:[r.e("item"),r.is(v.props.tabPosition),r.is("active",i.active),r.is("disabled",Y),r.is("closable",oe),r.is("focus",m.value)],id:`tab-${l}`,key:`tab-${O}`,"aria-controls":`pane-${l}`,role:"tab","aria-selected":i.active,tabindex:we,onFocus:()=>C(),onBlur:()=>M(),onClick:L=>{M(),o("tabClick",i,l,L)},onKeydown:L=>{oe&&(L.code===U.delete||L.code===U.backspace)&&o("tabRemove",i,L)}},[Ve,Te])});return t("div",{ref:T,class:[r.e("nav-wrap"),r.is("scrollable",!!u.value),r.is(v.props.tabPosition)]},[p,t("div",{class:r.e("nav-scroll"),ref:g},[t("div",{class:[r.e("nav"),r.is(v.props.tabPosition),r.is("stretch",n.stretch&&["top","bottom"].includes(v.props.tabPosition))],ref:F,style:f.value,role:"tablist",onKeydown:V},[n.type?null:t(kt,{ref:E,tabs:[...n.panes]},null),_])])])}}}),Ot=j({type:{type:String,values:["card","border-card",""],default:""},closable:Boolean,addable:Boolean,modelValue:{type:[String,Number]},editable:Boolean,tabPosition:{type:String,values:["top","right","bottom","left"],default:"top"},beforeLeave:{type:ue(Function),default:()=>!0},stretch:Boolean}),ne=n=>De(n)||Me(n),Bt={[Ie]:n=>ne(n),tabClick:(n,b)=>b instanceof Event,tabChange:n=>ne(n),edit:(n,b)=>["remove","add"].includes(b),tabRemove:n=>ne(n),tabAdd:()=>!0},Rt=D({name:"ElTabs",props:Ot,emits:Bt,setup(n,{emit:b,slots:o,expose:v}){var r;const d=Q("tabs"),y=K(()=>["left","right"].includes(n.tabPosition)),{children:g,addChild:F,removeChild:T}=Nt(de(),"ElTabPane"),E=P(),u=P((r=n.modelValue)!=null?r:"0"),e=async(c,N=!1)=>{var k,$;if(!(u.value===c||me(c)))try{let V;if(n.beforeLeave){const C=n.beforeLeave(c,u.value);V=C instanceof Promise?await C:C}else V=!0;V!==!1&&(u.value=c,N&&(b(Ie,c),b("tabChange",c)),($=(k=E.value)==null?void 0:k.removeFocus)==null||$.call(k))}catch{}},m=(c,N,k)=>{c.props.disabled||(e(N,!0),b("tabClick",c,k))},h=(c,N)=>{c.props.disabled||me(c.props.name)||(N.stopPropagation(),b("edit",c.props.name,"remove"),b("tabRemove",c.props.name))},x=()=>{b("edit",void 0,"add"),b("tabAdd")};W(()=>n.modelValue,c=>e(c)),W(u,async()=>{var c;await ee(),(c=E.value)==null||c.scrollToActiveTab()}),qe(te,{props:n,currentName:u,registerPane:c=>{g.value.push(c)},sortPane:F,unregisterPane:T}),v({currentName:u});const f=({render:c})=>c();return()=>{const c=o["add-icon"],N=n.editable||n.addable?t("div",{class:[d.e("new-tab"),y.value&&d.e("new-tab-vertical")],tabindex:"0",onClick:x,onKeydown:V=>{[U.enter,U.numpadEnter].includes(V.code)&&x()}},[c?re(o,"add-icon"):t(Z,{class:d.is("icon-plus")},{default:()=>[t(Je,null,null)]})]):null,k=t("div",{class:[d.e("header"),y.value&&d.e("header-vertical"),d.is(n.tabPosition)]},[t(f,{render:()=>{const V=g.value.some(C=>C.slots.label);return t($t,{ref:E,currentName:u.value,editable:n.editable,type:n.type,panes:g.value,stretch:n.stretch,onTabClick:m,onTabRemove:h},{$stable:!V})}},null),N]),$=t("div",{class:d.e("content")},[re(o,"default")]);return t("div",{class:[d.b(),d.m(n.tabPosition),{[d.m("card")]:n.type==="card",[d.m("border-card")]:n.type==="border-card"}]},[$,k])}}});var zt=Rt;const Ut=j({label:{type:String,default:""},name:{type:[String,Number]},closable:Boolean,disabled:Boolean,lazy:Boolean}),Ee="ElTabPane",At=D({name:Ee}),Lt=D({...At,props:Ut,setup(n){const b=n,o=de(),v=We(),r=ce(te);r||ie(Ee,"usage: <el-tabs><el-tab-pane /></el-tabs/>");const d=Q("tab-pane"),y=P(),g=K(()=>b.closable||r.props.closable),F=be(()=>{var m;return r.currentName.value===((m=b.name)!=null?m:y.value)}),T=P(F.value),E=K(()=>{var m;return(m=b.name)!=null?m:y.value}),u=be(()=>!b.lazy||T.value||F.value);W(F,m=>{m&&(T.value=!0)});const e=Fe({uid:o.uid,slots:v,props:b,paneName:E,active:F,index:y,isClosable:g});return r.registerPane(e),he(()=>{r.sortPane(e)}),Ke(()=>{r.unregisterPane(e.uid)}),(m,h)=>a(u)?Ye((z(),X("div",{key:0,id:`pane-${a(E)}`,class:xe(a(d).b()),role:"tabpanel","aria-hidden":!a(F),"aria-labelledby":`tab-${a(E)}`},[re(m.$slots,"default")],10,["id","aria-hidden","aria-labelledby"])),[[Xe,a(F)]]):Ge("v-if",!0)}});var Ne=ge(Lt,[["__file","tab-pane.vue"]]);const Dt=He(zt,{TabPane:Ne}),Mt=Ze(Ne),qt={class:"split-pane"},Jt={class:"app-icon"},Wt=D({__name:"index",setup(n,{expose:b}){const o=Fe({visible:!1,activeTab:"customIcons",customIconForm:{name:"",path:"",type:[],meta:{rank:0,type:"icon",value:"app-",tag:[],size:60,color:"#fff",bgColor:"#FF4500",layout:"1x1",description:""}}}),v=K(()=>JSON.stringify(o.customIconForm,void 0,4));async function r(){const{path:u}=o.customIconForm,e=document.createElement("img");e.src=`${u}favicon.ico`}function d(u){switch(u){case"icon":o.customIconForm.meta.value="app-";break;case"text":o.customIconForm.meta.value="A";break;default:o.customIconForm.meta.value="https://";break}}function y(){JSON.stringify(o.customIconForm,null,"	");const{onCopy:u}=Ct(yt(JSON.stringify(o.customIconForm)));u()}function g(){const u=R.findIndex(m=>m.name===o.customIconForm.name),e=u-1;e!==-1?o.customIconForm=G(R[e]):o.customIconForm=G(R[R.length-1]),console.log(u),console.log(o.customIconForm)}function F(){console.log(o.customIconForm);const e=R.findIndex(m=>m.name===o.customIconForm.name)+1;e!==R.length?o.customIconForm=G(R[e]):o.customIconForm=G(R[R.length-1])}function T(){o.visible=!0}function E(u){T();const e=G(u);typeof e.type=="string"&&(e.type=[e.type]),ee(()=>{o.customIconForm=e})}return b({open:T,edit:E}),(u,e)=>{const m=je,h=Mt,x=xt,f=ot,c=at,N=nt,k=ut,$=st,V=ct,C=mt,M=dt,p=bt,_=it,i=It,S=ht,I=ft,w=tt,q=et,B=Dt,O=Ft,Y=_t;return z(),H(Y,null,{default:s(()=>[t(O,{visible:a(o).visible,"onUpdate:visible":e[14]||(e[14]=l=>a(o).visible=l),title:"添加应用",width:"70%"},{footer:s(()=>[t(N,{type:"danger",onClick:g},{default:s(()=>e[17]||(e[17]=[J("上一个")])),_:1}),t(N,{type:"primary"},{default:s(()=>e[18]||(e[18]=[J("保存并继续")])),_:1}),t(N,{type:"warning",onClick:F},{default:s(()=>e[19]||(e[19]=[J("下一个")])),_:1})]),default:s(()=>[t(B,{"tab-position":"left",modelValue:a(o).activeTab,"onUpdate:modelValue":e[13]||(e[13]=l=>a(o).activeTab=l)},{default:s(()=>[t(h,{label:"网址导航",name:"website"},{default:s(()=>[(z(!0),X(ae,null,le(a(pe),l=>(z(),H(m,{key:l.value,wrap:!0},{default:s(()=>[J(Qe(l.label),1)]),_:2},1024))),128))]),_:1}),t(h,{label:"自定义图标",name:"customIcons"},{default:s(()=>[fe("div",qt,[t(q,null,{default:s(()=>[t(w,{model:a(o).customIconForm,"label-width":"100px"},{default:s(()=>[t(f,{label:"应用图标"},{default:s(()=>[fe("div",Jt,[t(x,{app:a(o).customIconForm},null,8,["app"])])]),_:1}),t(f,{label:"应用名称",prop:"name",rules:{required:!0,message:"请输入应用名称"}},{default:s(()=>[t(c,{modelValue:a(o).customIconForm.name,"onUpdate:modelValue":e[0]||(e[0]=l=>a(o).customIconForm.name=l),placeholder:"应用名称","prefix-icon":a(ve)},null,8,["modelValue","prefix-icon"])]),_:1}),t(f,{label:"访问地址",prop:"path",rules:{required:!0,message:"请输入访问地址"}},{default:s(()=>[t(c,{modelValue:a(o).customIconForm.path,"onUpdate:modelValue":e[1]||(e[1]=l=>a(o).customIconForm.path=l),placeholder:"https://","prefix-icon":a(lt)},{append:s(()=>[t(N,{onClick:r},{default:s(()=>e[15]||(e[15]=[J("获取图标")])),_:1})]),_:1},8,["modelValue","prefix-icon"])]),_:1}),t(f,{label:"应用分类",prop:"type",rules:{required:!0,message:"请选择应用分类"}},{default:s(()=>[t($,{modelValue:a(o).customIconForm.type,"onUpdate:modelValue":e[2]||(e[2]=l=>a(o).customIconForm.type=l),multiple:"",placeholder:"选择应用分类"},{default:s(()=>[(z(!0),X(ae,null,le(a(rt).filter(l=>l.type!=="/"),l=>(z(),H(k,{key:l.name,value:l.type,label:l.name},null,8,["value","label"]))),128))]),_:1},8,["modelValue"])]),_:1}),t(f,{label:"排行",prop:"meta.rank"},{default:s(()=>[t(V,{modelValue:a(o).customIconForm.meta.rank,"onUpdate:modelValue":e[3]||(e[3]=l=>a(o).customIconForm.meta.rank=l)},null,8,["modelValue"])]),_:1}),t(f,{label:"图标类型"},{default:s(()=>[t(_,null,{default:s(()=>[t(M,{modelValue:a(o).customIconForm.meta.type,"onUpdate:modelValue":e[4]||(e[4]=l=>a(o).customIconForm.meta.type=l),onChange:d},{default:s(()=>[t(C,{label:"图标",value:"icon"}),t(C,{label:"文字",value:"text"}),t(C,{label:"图片",value:"img"})]),_:1},8,["modelValue"]),t(f,{prop:"meta.value"},{default:s(()=>[t(c,{modelValue:a(o).customIconForm.meta.value,"onUpdate:modelValue":e[5]||(e[5]=l=>a(o).customIconForm.meta.value=l),placeholder:"图标值","prefix-icon":a(ve)},null,8,["modelValue","prefix-icon"])]),_:1}),t(f,null,{default:s(()=>[t(p,{color:a(o).customIconForm.meta.color,"onUpdate:color":e[6]||(e[6]=l=>a(o).customIconForm.meta.color=l)},null,8,["color"])]),_:1})]),_:1})]),_:1}),t(f,{label:"图标背景色"},{default:s(()=>[t(p,{colorList:a(pt),color:a(o).customIconForm.meta.bgColor,"onUpdate:color":e[7]||(e[7]=l=>a(o).customIconForm.meta.bgColor=l)},null,8,["colorList","color"])]),_:1}),t(f,{label:"标签"},{default:s(()=>[t(S,{modelValue:a(o).customIconForm.meta.tag,"onUpdate:modelValue":e[8]||(e[8]=l=>a(o).customIconForm.meta.tag=l)},{default:s(()=>[(z(!0),X(ae,null,le(a(pe),l=>(z(),H(i,{key:l.value,label:l.label,value:l.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),t(f,{label:"图标大小",prop:"size"},{default:s(()=>[t(I,{modelValue:a(o).customIconForm.meta.size,"onUpdate:modelValue":e[9]||(e[9]=l=>a(o).customIconForm.meta.size=l),min:40,max:100},null,8,["modelValue"])]),_:1}),t(f,{label:"图标布局",prop:"layout"},{default:s(()=>[t(M,{modelValue:a(o).customIconForm.meta.layout,"onUpdate:modelValue":e[10]||(e[10]=l=>a(o).customIconForm.meta.layout=l)},{default:s(()=>[t(C,{label:"1x1",value:"1x1"}),t(C,{label:"2x2",value:"2x2"}),t(C,{label:"5x2",value:"5x2"})]),_:1},8,["modelValue"])]),_:1}),t(f,{label:"描述",prop:"description"},{default:s(()=>[t(c,{modelValue:a(o).customIconForm.meta.description,"onUpdate:modelValue":e[11]||(e[11]=l=>a(o).customIconForm.meta.description=l),type:"textarea",placeholder:"应用介绍..."},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1}),t(w,null,{default:s(()=>[t(f,null,{default:s(()=>[t(c,{modelValue:a(v),"onUpdate:modelValue":e[12]||(e[12]=l=>vt(v)?v.value=l:null),autosize:{minRows:27,maxRows:27},resize:"none",readonly:"",type:"textarea"},null,8,["modelValue"])]),_:1}),t(f,null,{default:s(()=>[t(N,{type:"primary",onClick:y},{default:s(()=>e[16]||(e[16]=[J("复制JSON")])),_:1})]),_:1})]),_:1})])]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["visible"])]),_:1})}}}),Qt=gt(Wt,[["__scopeId","data-v-d22259f8"]]);export{Qt as default};
